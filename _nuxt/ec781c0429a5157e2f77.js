(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{308:function(t,e,o){var content=o(310);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(56).default)("6759f5ab",content,!0,{sourceMap:!1})},309:function(t,e,o){"use strict";var n=o(308);o.n(n).a},310:function(t,e,o){(e=o(55)(!1)).push([t.i,".container{padding-top:3vh;min-height:100vh;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:start;align-items:flex-start;text-align:center}.el-select{width:400px}",""]),t.exports=e},311:function(t,e,o){"use strict";o.r(e);o(54);var n=o(5),r={head:{title:"Tasaki Air Myanmar - Notification"},data:function(){return{buttonDisable:!1,form:{title:"",body:"",id:null},posts:[]}},methods:{loadingPosts:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.get("https://www.tasakiair.com/jsonapi/node/news?jsonapi_include=1&fields[node--news]=id,title");case 2:o=e.sent,t.posts=o.data.data;case 4:case"end":return e.stop()}}),e)})))()},sendNotification:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=t).buttonDisable=!0,n={Authorization:"key=AIzaSyBU-9hiZucytd3pN0_DCyjewDR9gF-skG0"},t.$axios.post("https://fcm.googleapis.com/fcm/send",{to:"/topics/all",notification:o.form,data:o.form},{headers:n}).then((function(){t.$notify({title:"Success",message:"Your notification has been sent.",type:"success"}),t.form={title:"",body:"",id:null},o.buttonDisable=!1})).catch((function(t){this.$notify.error({title:"Error",message:"Notification failed to send."}),o.buttonDisable=!1}));case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.loadingPosts()}},l=(o(309),o(37)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticStyle:{width:"500px"}},[o("el-form",{attrs:{"label-position":"left","label-width":"100px",model:t.form}},[o("el-form-item",{attrs:{label:"Title"}},[o("el-input",{attrs:{minlength:3,maxlength:50,"show-word-limit":""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Description"}},[o("el-input",{attrs:{minlength:10,maxlength:150,"show-word-limit":"",type:"textarea",rows:3},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"Post"}},[o("el-select",{attrs:{placeholder:"please select your news"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}},t._l(t.posts,(function(t){return o("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary",round:"",disabled:t.buttonDisable},on:{click:t.sendNotification}},[t._v("Send Notification to Mobiles")])],1)],1)],1)])}),[],!1,null,null,null);e.default=component.exports}}]);